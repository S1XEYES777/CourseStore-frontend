<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CourseStore ‚Äî Admin Panel</title>

    <link rel="stylesheet" href="assets/style.css">

    <style>
        /* ====== ADMIN FIXES ====== */

        .admin-layout {
            display: flex;
            gap: 20px;
            margin-top: 30px;
        }

        .admin-sidebar {
            width: 250px;
            padding: 20px;
        }

        .admin-main {
            flex-grow: 1;
            min-height: 600px;
        }

        .admin-tab {
            display: none;
        }

        .admin-tab:not(.hidden) {
            display: block;
        }

        /* ===== SMALL USER CARD ===== */
        .admin-user-card {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .admin-user-avatar {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            object-fit: cover;
            background: #222;
        }

        .admin-user-info {
            flex-grow: 1;
        }

        .mini-delete-btn {
            background: #d33;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
        }

        /* ===== COURSE CARDS ===== */
        .admin-course-card {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255,255,255,0.05);
            padding: 12px;
            border-radius: 12px;
            margin-bottom: 12px;
        }

        .admin-course-thumb {
            width: 120px;
            height: 70px;
            border-radius: 8px;
            object-fit: cover;
            background: #111;
        }

        .admin-course-info {
            flex-grow: 1;
        }

        /* LESSONS */
        .admin-lesson-card {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 10px;
            background: rgba(255,255,255,0.05);
        }
    </style>
</head>

<body onload="checkAdmin(); adminInit();">

<header class="site-header">
    <div class="container navbar">
        <div class="logo"><span>CS</span> Admin Panel</div>

        <div class="nav-links">
            <a href="index.html">–ù–∞ —Å–∞–π—Ç</a>
            <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
        </div>
    </div>
</header>


<!-- ===== ADMIN LAYOUT ===== -->
<div class="container admin-layout">

    <!-- ===== SIDEBAR ===== -->
    <aside class="admin-sidebar glass-card">
        <h3>–ú–µ–Ω—é –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h3>

        <button class="sidebar-btn" onclick="adminShowTab('stats')">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        <button class="sidebar-btn" onclick="adminShowTab('users')">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</button>
        <button class="sidebar-btn" onclick="adminShowTab('courses')">üìö –ö—É—Ä—Å—ã</button>
        <button class="sidebar-btn" onclick="adminShowTab('lessons')">üé¨ –£—Ä–æ–∫–∏</button>
        <button class="sidebar-btn" onclick="adminShowTab('purchases')">üí≥ –ü–æ–∫—É–ø–∫–∏</button>
    </aside>


    <!-- ===== MAIN CONTENT ===== -->
    <main class="admin-main">

        <!-- ===== STATS ===== -->
        <section id="tab_stats" class="admin-tab">
            <h2>–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>

            <div class="stats-grid">
                <div class="stat-card"><div class="stat-label">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</div><div id="statUsers" class="stat-value">0</div></div>
                <div class="stat-card"><div class="stat-label">–ö—É—Ä—Å—ã</div><div id="statCourses" class="stat-value">0</div></div>
                <div class="stat-card"><div class="stat-label">–ü–æ–∫—É–ø–∫–∏</div><div id="statPurchases" class="stat-value">0</div></div>
                <div class="stat-card"><div class="stat-label">–í—ã—Ä—É—á–∫–∞ ‚Ç∏</div><div id="statRevenue" class="stat-value">0</div></div>
            </div>
        </section>


        <!-- ===== USERS ===== -->
        <section id="tab_users" class="admin-tab hidden">
            <h2>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h2>

            <div id="adminUsersList"></div>
        </section>


        <!-- ===== COURSES ===== -->
        <section id="tab_courses" class="admin-tab hidden">
            <h2>–î–æ–±–∞–≤–∏—Ç—å –∫—É—Ä—Å</h2>

            <div class="admin-card">
                <input id="adm_title" class="admin-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞">
                <input id="adm_author" class="admin-input" placeholder="–ê–≤—Ç–æ—Ä">
                <input id="adm_price" class="admin-input" placeholder="–¶–µ–Ω–∞">
                <input id="adm_image" class="admin-input" placeholder="URL –∫–∞—Ä—Ç–∏–Ω–∫–∏">
                <textarea id="adm_descr" class="admin-textarea" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ"></textarea>

                <button class="btn-primary" onclick="adminAddCourse()">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>

            <h2>–í—Å–µ –∫—É—Ä—Å—ã</h2>
            <div id="adminCoursesList"></div>
        </section>


        <!-- ===== LESSONS ===== -->
        <section id="tab_lessons" class="admin-tab hidden">
            <h2>–£—Ä–æ–∫–∏</h2>

            <div class="admin-card">
                <input id="lesson_course" class="admin-input" placeholder="ID –∫—É—Ä—Å–∞">
                <input id="lesson_title" class="admin-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —É—Ä–æ–∫–∞">
                <input id="lesson_video" class="admin-input" placeholder="Google Drive URL">
                <input id="lesson_id" class="admin-input" placeholder="ID —É—Ä–æ–∫–∞">
                <button class="btn-primary" onclick="adminAddLesson()">–î–æ–±–∞–≤–∏—Ç—å —É—Ä–æ–∫</button>
            </div>

            <div id="adminLessonsList"></div>
        </section>


        <!-- ===== PURCHASES ===== -->
        <section id="tab_purchases" class="admin-tab hidden">
            <h2>–ü–æ–∫—É–ø–∫–∏</h2>
            <div id="adminPurchasesList"></div>
        </section>

    </main>
</div>


<script src="assets/script.js"></script>
</body>
</html>
