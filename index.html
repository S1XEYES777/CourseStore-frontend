<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Course Store ‚Äî –ì–ª–∞–≤–Ω–∞—è</title>

    <link rel="stylesheet" href="assets/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

<!-- ================= HEADER ================= -->
<header class="site-header">
    <div class="container navbar">

        <div class="logo">
            <span>CS</span> Course Store
        </div>

        <nav class="nav-links">
            <a href="index.html" class="active">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
            <a href="cart.html">–ö–æ—Ä–∑–∏–Ω–∞</a>
            <a href="profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a>
            <a href="login.html">–í–æ–π—Ç–∏</a>
        </nav>

    </div>
</header>


<!-- ================= HERO ================= -->
<section class="hero">
    <div class="container hero-layout">

        <div>
            <h1 class="hero-title">
                –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ <span>Course Store</span> üéì
            </h1>

            <p class="hero-subtitle">
                –£—á–∏—Ç–µ—Å—å –æ–Ω–ª–∞–π–Ω ‚Äî –±—ã—Å—Ç—Ä–æ, —É–¥–æ–±–Ω–æ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ.  
                –ü–æ–ª—É—á–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –∫—É—Ä—Å–∞–º –æ—Ç –ª—É—á—à–∏—Ö –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π.
            </p>

            <div class="hero-actions">
                <a href="catalog.html" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ –∫–∞—Ç–∞–ª–æ–≥—É</a>
                <a href="login.html" class="btn btn-ghost">–í–æ–π—Ç–∏</a>
            </div>

            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="hero-stat-number">120+</span> –∫—É—Ä—Å–æ–≤
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">9,800+</span> —É—á–µ–Ω–∏–∫–æ–≤
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">5.0</span> —Ä–µ–π—Ç–∏–Ω–≥
                </div>
            </div>
        </div>

        <div class="hero-image">
            <img src="assets/hero.png" alt="" style="width:100%; border-radius:14px;">
        </div>

    </div>
</section>


<!-- ================= –ü–û–ü–£–õ–Ø–†–ù–´–ï –ö–£–†–°–´ ================= -->
<section class="section">
    <div class="container">

        <div class="section-header">
            <h2 class="section-title">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫—É—Ä—Å—ã</h2>
            <p class="section-subtitle">–¢–æ–ø-4 –∫—É—Ä—Å–∞ –Ω–µ–¥–µ–ª–∏</p>
        </div>

        <div class="course-grid" id="popular-courses"></div>

    </div>
</section>


<!-- ================= FOOTER ================= -->
<footer class="site-footer">
    ¬© 2025 Course Store ‚Äî –£—á–∏—Å—å. –†–∞–∑–≤–∏–≤–∞–π—Å—è. –î–æ—Å—Ç–∏–≥–∞–π.
</footer>


<script src="assets/script.js"></script>

<script>
/* ======================
   –ó–ê–ì–†–£–ó–ö–ê –ü–û–ü–£–õ–Ø–†–ù–´–• –ö–£–†–°–û–í
====================== */
async function loadPopularCourses() {
    try {
        const res = await fetch(`${API}/api/courses`);
        const data = await res.json();
        const grid = document.getElementById("popular-courses");
        grid.innerHTML = "";

        if (data.status !== "ok" || !data.courses?.length) {
            grid.innerHTML = "<p class='section-subtitle'>–ü–æ–∫–∞ –Ω–µ—Ç –∫—É—Ä—Å–æ–≤.</p>";
            return;
        }

        data.courses.slice(0, 4).forEach(c => {
            const imgSrc = c.image_url || "assets/default.jpg";

            const card = document.createElement("div");
            card.className = "course-card";

            card.innerHTML = `
                <div class="course-thumb">
                    <img src="${imgSrc}" alt="">
                </div>

                <div class="course-body">
                    <span class="course-badge">–•–∏—Ç –Ω–µ–¥–µ–ª–∏</span>

                    <h3 class="course-title">${c.title}</h3>

                    <div class="course-meta">
                        <span>${c.author}</span>
                        <span class="course-price">${c.price} ‚Ç∏</span>
                    </div>
                </div>

                <div class="course-footer">
                    <button class="btn btn-primary btn-small">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</button>
                    <button class="btn btn-ghost btn-small">–ö—É–ø–∏—Ç—å</button>
                </div>
            `;

            card.querySelector("button").onclick = () => {
                window.location.href = "catalog.html?id=" + c.id;
            };

            grid.appendChild(card);
        });

    } catch(err) {
        console.error(err);
    }
}

loadPopularCourses();
</script>

</body>
</html>
