<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>CourseStore — Онлайн курсы</title>

    <link rel="stylesheet" href="assets/style.css">
    <script src="assets/script.js" defer></script>
</head>

<body>

<!-- ============================ -->
<!-- HEADER -->
<!-- ============================ -->
<header class="header">
    <div class="container header-flex">

        <div class="logo"><a href="index.html">CourseStore</a></div>

        <nav class="nav">
            <a href="catalog.html">Каталог</a>
            <a href="profile.html">Профиль</a>
            <a href="cart.html">Корзина</a>
        </nav>

        <div class="auth-buttons">
            <a href="login.html" class="btn-login">Войти</a>
            <a href="register.html" class="btn-primary">Регистрация</a>
        </div>

    </div>
</header>



<!-- ============================ -->
<!-- HERO БЛОК -->
<!-- ============================ -->
<section class="hero">
    <div class="container hero-content">

        <div class="hero-left">
            <h1>Лучшие онлайн-курсы <span style="color:#3b82f6;">для твоего будущего</span></h1>

            <p class="hero-sub">
                Освой программирование, дизайн, аналитику и многое другое — у лучших преподавателей.
            </p>

            <button class="btn-primary" onclick="window.location.href='catalog.html'">
                Перейти в каталог
            </button>
        </div>

        <div class="hero-right">
            <img src="assets/img/hero.png" alt="courses" class="hero-img">
        </div>

    </div>
</section>



<!-- ============================ -->
<!-- ПОПУЛЯРНЫЕ КУРСЫ -->
<!-- ============================ -->
<section class="container" style="padding: 40px 0;">
    <h2 style="margin-bottom: 15px;">Популярные курсы</h2>

    <div id="popularList" class="course-grid"></div>
</section>



<!-- ============================ -->
<!-- НОВЫЕ КУРСЫ -->
<!-- ============================ -->
<section class="container" style="padding: 20px 0;">
    <h2 style="margin-bottom: 15px;">Новые курсы</h2>

    <div id="newList" class="course-grid"></div>
</section>



<!-- ============================ -->
<!-- FOOTER -->
<!-- ============================ -->
<footer class="footer">
    <div class="container">
        © 2025 CourseStore — Все права защищены.
    </div>
</footer>



<!-- ============================ -->
<!-- SCRIPTS -->
<!-- ============================ -->
<script>
document.addEventListener("DOMContentLoaded", async () => {
    const res = await fetch(API + "/api/courses");
    const data = await res.json();

    const popular = document.getElementById("popularList");
    const newest  = document.getElementById("newList");

    popular.innerHTML = "";
    newest.innerHTML = "";

    // разделяем курсы
    data.courses.slice(0, 4).forEach(c => {
        popular.appendChild(createCourseCard(c));
    });

    data.courses.slice(-4).forEach(c => {
        newest.appendChild(createCourseCard(c));
    });
});


// функция рендера карточки
function createCourseCard(course) {
    const card = document.createElement("div");
    card.className = "course-card";

    card.innerHTML = `
        <img src="${course.image}" alt="" />

        <h3>${course.title}</h3>
        <p class="author">${course.author}</p>

        <div class="price">${course.price} ₸</div>

        <button class="btn-primary" onclick="openCourse(${course.id})">
            Открыть
        </button>
    `;
    return card;
}
</script>

</body>
</html>
